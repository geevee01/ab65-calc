<!DOCTYPE html>
<html>
<head>
	<title>ABUNDANCE 65 Policy Calculator</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #222;
			color: #fff;
			padding: 20px;
			display: flex;
			justify-content: center;
			align-items: center;
			min-height: 100vh;
		}
		.container {
			max-width: 600px;
			width: 100%;
			background-color: #333;
			padding: 20px;
			border-radius: 5px;
		}
		input, button {
			padding: 5px 10px;
			margin: 5px;
		}
		.input-row {
			display: flex;
			justify-content: flex-start;
			align-items: center;
			margin-bottom: 10px;
		}
		.input-row label {
			width: 200px;
			text-align: left;
			margin-right: 10px;
		}
		.input-row input {
			flex-grow: 1;
			max-width: 300px;
		}
		.output-section {
			text-align: left;
			margin-top: 20px;
			max-width: 500px;
		}
		.output-section p {
			margin: 5px 0;
		}
		.output-section table {
			border-collapse: collapse;
			margin-top: 10px;
			width: 100%;
		}
		.output-section th, .output-section td {
			padding: 5px 10px;
			border: 1px solid #ccc;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>ABUNDANCE 65 Policy Calculator</h1>
		<p>Enter the policy details below:</p>
		<div class="input-row">
			<label for="coverageAmount">Coverage Amount:</label>
			<input type="number" id="coverageAmount" placeholder="e.g. 100000" required>
		</div>
		<div class="input-row">
			<label for="birthMonth">Insured's Birth Month:</label>
			<input type="number" id="birthMonth" placeholder="e.g. 1" min="1" max="12" required>
		</div>
		<div class="input-row">
			<label for="birthYear">Insured's Birth Year:</label>
			<input type="number" id="birthYear" placeholder="e.g. 1960" required>
		</div>
		<div class="input-row">
			<label for="policyStartMonth">Policy Start Month:</label>
			<input type="number" id="policyStartMonth" placeholder="e.g. 3" min="1" max="12" required>
		</div>
		<div class="input-row">
			<label for="policyStartYear">Policy Start Year:</label>
			<input type="number" id="policyStartYear" placeholder="e.g. 2024" required>
		</div>
		<button onclick="calculatePayouts()">Calculate Payouts</button>
		<div id="output" class="output-section"></div>
	</div>

	<script>
		function calculatePayouts() {
			const coverageAmount = parseFloat(document.getElementById("coverageAmount").value);
			const birthMonth = parseInt(document.getElementById("birthMonth").value);
			const birthYear = parseInt(document.getElementById("birthYear").value);
			const policyStartMonth = parseInt(document.getElementById("policyStartMonth").value);
			const policyStartYear = parseInt(document.getElementById("policyStartYear").value);

			if (isNaN(coverageAmount) || isNaN(birthMonth) || isNaN(birthYear) || isNaN(policyStartMonth) || isNaN(policyStartYear)) {
				document.getElementById("output").innerHTML = "Please enter valid numbers for all fields.";
				return;
			}

			const periodicPayoutYears = [];
			const periodicPayoutAmount = coverageAmount * 0.1;
			let periodicPayoutsCount = 0;
			let periodicPayoutsTotal = 0;

			const birthDate = new Date(birthYear, birthMonth - 1);
			const policyStartDate = new Date(policyStartYear, policyStartMonth - 1);
			const insuranceEndYear = birthDate.getFullYear() + 65;
			const finalPayoutYear = insuranceEndYear;

			for (let year = policyStartYear + 11; year < insuranceEndYear; year += 2) {
				periodicPayoutYears.push(year);
				periodicPayoutsCount++;
				periodicPayoutsTotal += periodicPayoutAmount;
			}

			const finalPayoutAmount = coverageAmount;
			const totalPayouts = periodicPayoutsTotal + finalPayoutAmount;

			function formatNumber(number) {
				return "â‚±" + number.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, "$&,");
			}

			let output = "<h2>Policy Payouts</h2>";
			output += `<p>Count of Periodic Payouts: ${periodicPayoutsCount}</p>`;
			output += `<p>Total Sum of Periodic Payouts: ${formatNumber(periodicPayoutsTotal)}</p>`;
			output += `<p>Final Policy Year: ${finalPayoutYear}</p>`;
			output += `<p>Final Payout: ${formatNumber(finalPayoutAmount)}</p>`;
			output += `<p>Total of Periodic and Final Payouts: ${formatNumber(totalPayouts)}</p>`;
			output += "<p>Years of Periodic Payouts:</p>";
			output += "<table><tr><th>Count</th><th>Year</th></tr>";
			periodicPayoutYears.forEach((year, index) => {
				output += `<tr><td>${index + 1}</td><td>${year}</td></tr>`;
			});
			output += "</table>";

			document.getElementById("output").innerHTML = output;
		}
	</script>
</body>
</html>
